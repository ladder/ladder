- item = Agent.normalize(result.to_hash, {:ids => :resolve})
- desc = []
- desc.push item[:dbpedia][:birthName].first rescue nil
- desc.push item[:foaf][:name].first unless item[:dbpedia][:birthName] rescue nil

- birth = item[:dbpedia][:birthYear] || item[:dbpedia][:birthDate] || item[:foaf][:birthday] rescue []
- birth = Date.parse(birth.first).year.to_s rescue ''
- death = item[:dbpedia][:deathYear] || item[:dbpedia][:deathDate] rescue []
- death = Date.parse(death.first).year.to_s rescue ''
- desc.push "#{birth}-#{death}" unless birth.empty?

- if result.resource_ids.size > 3
  - desc.push "#{result.resource_ids.size} #{I18n.t('search.resources')}" rescue nil

.span8
  %a{:href => url_for(:agent, :index, :id => result.id)}
    %h4
      = result.heading.first.truncate(100, :separator => ' ')
  .description #{desc.join('; ')}

.span4
  .together
    - Resource.find(result.resource_ids.take(3)).each do |resource|
      %a.thumbnail.pull-right{:href => url_for(:resource, :index, :id => resource.id), :style => 'margin-left: 9px;'}
        .half-small
          = partial 'image', :object => resource