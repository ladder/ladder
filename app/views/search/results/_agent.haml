- desc = []
- altname = ignore_nil {agent[:dbpedia][:birthName].first} || ignore_nil {agent[:foaf][:name].first}
- desc.push altname unless agent[:heading].include? altname

- birth = ignore_nil {agent[:dbpedia][:birthYear].first} || ignore_nil {agent[:dbpedia][:birthDate].first} || ignore_nil {agent[:foaf][:birthday].first}
- birth = Date.parse(birth).year.to_s if ! birth.nil? and birth.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}.*$/)
- death = ignore_nil {agent[:dbpedia][:deathYear].first} || ignore_nil {agent[:dbpedia][:deathDate].first}
- death = Date.parse(death).year.to_s if ! death.nil? and death.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}.*$/)

- life_dates = "#{birth}-" unless birth.nil?
- life_dates += "#{death}" unless death.nil?
- desc.push life_dates

- if ignore_nil {agent[:resource_ids].size > 3}
  - desc.push "#{agent[:resource_ids].size} #{I18n.t('search.resources')}"

.description #{desc.compact.join('; ')}

- if agent[:resource_ids]
  .media
    - Resource.find(agent[:resource_ids].take(3)).each do |resource|
      %a.thumbnail.pull-right{:href => url_for(:resource, :id => resource.id), :style => 'margin-left: 9px; min-width: 60px;'}
        = partial 'image', :object => resource
  .clearfix