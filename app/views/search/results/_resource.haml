- item = resource.normalize({:ids => :resolve})
- desc = []
- desc.push ignore_nil {resource.dcterms.format.first.capitalize}
- desc.push ignore_nil {resource.dcterms.issued.first}
- desc.push ISO_639.find(resource.dcterms.language.first).english_name.capitalize rescue nil

%a{:href => url_for(:resource, :index, :id => resource.id)}
  %h4= resource.heading.first.truncate(100, :separator => ' ').humanize

- agents = nil#ignore_nil {item.dcterms.creator || item.dcterms.contributor ||item.dcterms.publisher}
- if agents
  - agents = agents.take(3).map do |value|
    - if value.is_a? Hash
      - heading = value.keys.first.to_s.classify.constantize.find(value.values.first).heading
      - link_to(heading.first, url_for(value.keys.first, :index, :id => value.values.first))
- else agents = []

.description #{[agents + desc].join('; ')}